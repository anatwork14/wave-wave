{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\nexport function formatActor(name: string) {\r\n  if (name == \"teacher_agent\") return \"Mini Wave Teacher\";\r\n  else \"Agent\";\r\n}\r\n\r\nexport function removeBrackets(text: string): string {\r\n  // Remove anything inside parentheses (and the parentheses)\r\n  return text.replace(/\\s*\\(.*?\\)/g, \"\").trim();\r\n}\r\n/**\r\n * Formats an ISO time string into a \"time ago\" format.\r\n * @param timeString The ISO 8601 timestamp (e.g., \"2025-10-25T12:30:44.488876\")\r\n */\r\nexport function formatTime(timeString: string): string {\r\n  const time = new Date(timeString);\r\n  const now = new Date();\r\n\r\n  // Get the difference in seconds\r\n  const seconds = Math.floor((now.getTime() - time.getTime()) / 1000);\r\n\r\n  // Less than 5 seconds\r\n  if (seconds < 5) {\r\n    return \"just now\";\r\n  }\r\n\r\n  // Less than 1 minute\r\n  if (seconds < 60) {\r\n    return `${seconds} seconds ago`;\r\n  }\r\n\r\n  // Less than 1 hour\r\n  const minutes = Math.floor(seconds / 60);\r\n  if (minutes < 60) {\r\n    return `${minutes} minute${minutes > 1 ? \"s\" : \"\"} ago`;\r\n  }\r\n\r\n  // Less than 1 day\r\n  const hours = Math.floor(minutes / 60);\r\n  if (hours < 24) {\r\n    return `${hours} hour${hours > 1 ? \"s\" : \"\"} ago`;\r\n  }\r\n\r\n  // Less than 1 month\r\n  const days = Math.floor(hours / 24);\r\n  if (days < 30) {\r\n    return `${days} day${days > 1 ? \"s\" : \"\"} ago`;\r\n  }\r\n\r\n  // Less than 1 year\r\n  const months = Math.floor(days / 30);\r\n  if (months < 12) {\r\n    return `${months} month${months > 1 ? \"s\" : \"\"} ago`;\r\n  }\r\n\r\n  // Years\r\n  const years = Math.floor(months / 12);\r\n  return `${years} year${years > 1 ? \"s\" : \"\"} ago`;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,qNAAO,EAAC,IAAA,4LAAI,EAAC;AACtB;AAEO,SAAS,YAAY,IAAY;IACtC,IAAI,QAAQ,iBAAiB,OAAO;SAC/B;AACP;AAEO,SAAS,eAAe,IAAY;IACzC,2DAA2D;IAC3D,OAAO,KAAK,OAAO,CAAC,eAAe,IAAI,IAAI;AAC7C;AAKO,SAAS,WAAW,UAAkB;IAC3C,MAAM,OAAO,IAAI,KAAK;IACtB,MAAM,MAAM,IAAI;IAEhB,gCAAgC;IAChC,MAAM,UAAU,KAAK,KAAK,CAAC,CAAC,IAAI,OAAO,KAAK,KAAK,OAAO,EAAE,IAAI;IAE9D,sBAAsB;IACtB,IAAI,UAAU,GAAG;QACf,OAAO;IACT;IAEA,qBAAqB;IACrB,IAAI,UAAU,IAAI;QAChB,OAAO,AAAC,GAAU,OAAR,SAAQ;IACpB;IAEA,mBAAmB;IACnB,MAAM,UAAU,KAAK,KAAK,CAAC,UAAU;IACrC,IAAI,UAAU,IAAI;QAChB,OAAO,AAAC,GAAmB,OAAjB,SAAQ,WAAgC,OAAvB,UAAU,IAAI,MAAM,IAAG;IACpD;IAEA,kBAAkB;IAClB,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;IACnC,IAAI,QAAQ,IAAI;QACd,OAAO,AAAC,GAAe,OAAb,OAAM,SAA4B,OAArB,QAAQ,IAAI,MAAM,IAAG;IAC9C;IAEA,oBAAoB;IACpB,MAAM,OAAO,KAAK,KAAK,CAAC,QAAQ;IAChC,IAAI,OAAO,IAAI;QACb,OAAO,AAAC,GAAa,OAAX,MAAK,QAA0B,OAApB,OAAO,IAAI,MAAM,IAAG;IAC3C;IAEA,mBAAmB;IACnB,MAAM,SAAS,KAAK,KAAK,CAAC,OAAO;IACjC,IAAI,SAAS,IAAI;QACf,OAAO,AAAC,GAAiB,OAAf,QAAO,UAA8B,OAAtB,SAAS,IAAI,MAAM,IAAG;IACjD;IAEA,QAAQ;IACR,MAAM,QAAQ,KAAK,KAAK,CAAC,SAAS;IAClC,OAAO,AAAC,GAAe,OAAb,OAAM,SAA4B,OAArB,QAAQ,IAAI,MAAM,IAAG;AAC9C","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-0 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACZ,qBACE,yOAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,yOAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACjB,qBACE,yOAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACvB,qBACE,yOAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,yOAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACnB,qBACE,yOAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,yOAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"bg-[#C73B3B] text-primary-foreground hover:bg-[#C33D3D]/80 transition-all duration-500 cursor-pointer\",\r\n        destructive:\r\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost:\r\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\r\n        icon: \"size-9\",\r\n        \"icon-sm\": \"size-8\",\r\n        \"icon-lg\": \"size-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean;\r\n  }) {\r\n  const Comp = asChild ? Slot : \"button\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,sNAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,KASb;QATa,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF,GATa;IAUd,MAAM,OAAO,UAAU,uNAAI,GAAG;IAE9B,qBACE,yOAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        \"bg-primary/20 relative h-2 w-full overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-[#F66868] h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  );\n}\n\nexport { Progress };\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,KAIoC;QAJpC,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD,GAJpC;IAKhB,qBACE,yOAAC,2NAAsB;QACrB,aAAU;QACV,WAAW,IAAA,wKAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,yOAAC,gOAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,AAAC,eAAiC,OAAnB,MAAM,CAAC,SAAS,CAAC,GAAE;YAAI;;;;;;;;;;;AAIlE;KArBS","debugId":null}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/LearningSummary/index.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { BookOpen, Clock, Award, Users } from \"lucide-react\";\r\nimport { Card } from \"@/components/ui/card\";\r\n\r\nexport default function LearningSummary() {\r\n  const [stats, setStats] = useState({\r\n    totalCourses: 0,\r\n    expectedHours: 0,\r\n    averageScore: 0,\r\n    totalLearners: 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setStats({\r\n        totalCourses: 10,\r\n        expectedHours: 24,\r\n        averageScore: 8.7,\r\n        totalLearners: 200,\r\n      });\r\n    }, 1000);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"w-full mb-10\">\r\n      <Card className=\"w-full bg-[#FFF5F5] border border-[#F66868]/20 h-fit rounded-2xl shadow-sm p-6 md:p-8 relative overflow-hidden\">\r\n        <h2 className=\"text-2xl font-extrabold text-[#F66868] mb-8 text-center\">\r\n          Hành Trình Học Tập\r\n        </h2>\r\n\r\n        {/* Grid thông tin */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-8 text-center\">\r\n          {/* Tổng số khóa học */}\r\n          <div className=\"flex flex-col items-center justify-center bg-white/20 cursor-pointer border border-[#F66868]/20 rounded-2xl p-4 hover:scale-105 transition-transform duration-300\">\r\n            <div className=\"bg-[#FFD9D9] p-4 rounded-full mb-3 shadow-sm\">\r\n              <BookOpen className=\"w-8 h-8 text-[#F66868]\" />\r\n            </div>\r\n            <p className=\"text-3xl font-extrabold text-[#F66868] animate-pop\">\r\n              {stats.totalCourses}\r\n            </p>\r\n            <p className=\"text-sm font-medium text-gray-600\">Chủ đề</p>\r\n          </div>\r\n\r\n          {/* Thời gian dự kiến */}\r\n          <div className=\"flex flex-col items-center justify-center bg-white/20 cursor-pointer border border-[#F66868]/20 rounded-2xl p-4 hover:scale-105 transition-transform duration-300\">\r\n            <div className=\"bg-[#FFD9D9] p-4 rounded-full mb-3 shadow-sm\">\r\n              <Clock className=\"w-8 h-8 text-[#F66868]\" />\r\n            </div>\r\n            <p className=\"text-3xl font-extrabold text-[#F66868] animate-pop\">\r\n              {stats.expectedHours}h\r\n            </p>\r\n            <p className=\"text-sm font-medium text-gray-600\">Thời gian học</p>\r\n          </div>\r\n\r\n          {/* Điểm trung bình */}\r\n          <div className=\"flex flex-col items-center justify-center bg-white/20 cursor-pointer border border-[#F66868]/20 rounded-2xl p-4 hover:scale-105 transition-transform duration-300\">\r\n            <div className=\"bg-[#FFD9D9] p-4 rounded-full mb-3 shadow-sm\">\r\n              <Award className=\"w-8 h-8 text-[#F66868]\" />\r\n            </div>\r\n            <p className=\"text-3xl font-extrabold text-[#F66868] animate-pop\">\r\n              {stats.averageScore.toFixed(1)}\r\n            </p>\r\n            <p className=\"text-sm font-medium text-gray-600\">Điểm trung bình</p>\r\n          </div>\r\n\r\n          {/* Tổng người học */}\r\n          <div className=\"flex flex-col items-center justify-center bg-white/20 cursor-pointer border border-[#F66868]/20 rounded-2xl p-4 hover:scale-105 transition-transform duration-300\">\r\n            <div className=\"bg-[#FFD9D9] p-4 rounded-full mb-3 shadow-sm\">\r\n              <Users className=\"w-8 h-8 text-[#F66868]\" />\r\n            </div>\r\n            <p className=\"text-3xl font-extrabold text-[#F66868] animate-pop\">\r\n              {stats.totalLearners.toLocaleString()}\r\n            </p>\r\n            <p className=\"text-sm font-medium text-gray-600\">Học viên</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;AAEe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qNAAQ,EAAC;QACjC,cAAc;QACd,eAAe;QACf,cAAc;QACd,eAAe;IACjB;IAEA,IAAA,sNAAS;qCAAC;YACR;6CAAW;oBACT,SAAS;wBACP,cAAc;wBACd,eAAe;wBACf,cAAc;wBACd,eAAe;oBACjB;gBACF;4CAAG;QACL;oCAAG,EAAE;IAEL,qBACE,yOAAC;QAAI,WAAU;kBACb,cAAA,yOAAC,uLAAI;YAAC,WAAU;;8BACd,yOAAC;oBAAG,WAAU;8BAA0D;;;;;;8BAKxE,yOAAC;oBAAI,WAAU;;sCAEb,yOAAC;4BAAI,WAAU;;8CACb,yOAAC;oCAAI,WAAU;8CACb,cAAA,yOAAC,yQAAQ;wCAAC,WAAU;;;;;;;;;;;8CAEtB,yOAAC;oCAAE,WAAU;8CACV,MAAM,YAAY;;;;;;8CAErB,yOAAC;oCAAE,WAAU;8CAAoC;;;;;;;;;;;;sCAInD,yOAAC;4BAAI,WAAU;;8CACb,yOAAC;oCAAI,WAAU;8CACb,cAAA,yOAAC,4PAAK;wCAAC,WAAU;;;;;;;;;;;8CAEnB,yOAAC;oCAAE,WAAU;;wCACV,MAAM,aAAa;wCAAC;;;;;;;8CAEvB,yOAAC;oCAAE,WAAU;8CAAoC;;;;;;;;;;;;sCAInD,yOAAC;4BAAI,WAAU;;8CACb,yOAAC;oCAAI,WAAU;8CACb,cAAA,yOAAC,4PAAK;wCAAC,WAAU;;;;;;;;;;;8CAEnB,yOAAC;oCAAE,WAAU;8CACV,MAAM,YAAY,CAAC,OAAO,CAAC;;;;;;8CAE9B,yOAAC;oCAAE,WAAU;8CAAoC;;;;;;;;;;;;sCAInD,yOAAC;4BAAI,WAAU;;8CACb,yOAAC;oCAAI,WAAU;8CACb,cAAA,yOAAC,4PAAK;wCAAC,WAAU;;;;;;;;;;;8CAEnB,yOAAC;oCAAE,WAAU;8CACV,MAAM,aAAa,CAAC,cAAc;;;;;;8CAErC,yOAAC;oCAAE,WAAU;8CAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM7D;GA3EwB;KAAA","debugId":null}},
    {"offset": {"line": 556, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Popover({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\n}\n\nfunction PopoverTrigger({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\n}\n\nfunction PopoverContent({\n  className,\n  align = \"center\",\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        data-slot=\"popover-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden\",\n          className\n        )}\n        {...props}\n      />\n    </PopoverPrimitive.Portal>\n  )\n}\n\nfunction PopoverAnchor({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\n}\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,QAAQ,KAEoC;QAFpC,EACf,GAAG,OACgD,GAFpC;IAGf,qBAAO,yOAAC,0NAAqB;QAAC,aAAU;QAAW,GAAG,KAAK;;;;;;AAC7D;KAJS;AAMT,SAAS,eAAe,KAEgC;QAFhC,EACtB,GAAG,OACmD,GAFhC;IAGtB,qBAAO,yOAAC,6NAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,eAAe,KAKgC;QALhC,EACtB,SAAS,EACT,QAAQ,QAAQ,EAChB,aAAa,CAAC,EACd,GAAG,OACmD,GALhC;IAMtB,qBACE,yOAAC,4NAAuB;kBACtB,cAAA,yOAAC,6NAAwB;YACvB,aAAU;YACV,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,wKAAE,EACX,keACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIjB;MApBS;AAsBT,SAAS,cAAc,KAEgC;QAFhC,EACrB,GAAG,OACkD,GAFhC;IAGrB,qBAAO,yOAAC,4NAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS","debugId":null}},
    {"offset": {"line": 643, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Separator({\r\n  className,\r\n  orientation = \"horizontal\",\r\n  decorative = true,\r\n  ...props\r\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\r\n  return (\r\n    <SeparatorPrimitive.Root\r\n      data-slot=\"separator\"\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Separator }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,KAKoC;QALpC,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD,GALpC;IAMjB,qBACE,yOAAC,4NAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,wKAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf;KAlBS","debugId":null}},
    {"offset": {"line": 679, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction TooltipProvider({\r\n  delayDuration = 0,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\r\n  return (\r\n    <TooltipPrimitive.Provider\r\n      data-slot=\"tooltip-provider\"\r\n      delayDuration={delayDuration}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction Tooltip({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\r\n  return (\r\n    <TooltipProvider>\r\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\r\n    </TooltipProvider>\r\n  )\r\n}\r\n\r\nfunction TooltipTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\r\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\r\n}\r\n\r\nfunction TooltipContent({\r\n  className,\r\n  sideOffset = 0,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\r\n  return (\r\n    <TooltipPrimitive.Portal>\r\n      <TooltipPrimitive.Content\r\n        data-slot=\"tooltip-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\r\n      </TooltipPrimitive.Content>\r\n    </TooltipPrimitive.Portal>\r\n  )\r\n}\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,gBAAgB,KAGgC;QAHhC,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD,GAHhC;IAIvB,qBACE,yOAAC,8NAAyB;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,QAAQ,KAEoC;QAFpC,EACf,GAAG,OACgD,GAFpC;IAGf,qBACE,yOAAC;kBACC,cAAA,yOAAC,0NAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;MARS;AAUT,SAAS,eAAe,KAEgC;QAFhC,EACtB,GAAG,OACmD,GAFhC;IAGtB,qBAAO,yOAAC,6NAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,eAAe,KAKgC;QALhC,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD,GALhC;IAMtB,qBACE,yOAAC,4NAAuB;kBACtB,cAAA,yOAAC,6NAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,wKAAE,EACX,qaACA;YAED,GAAG,KAAK;;gBAER;8BACD,yOAAC,2NAAsB;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C;MAtBS","debugId":null}},
    {"offset": {"line": 782, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/MedicalTerminologyCard/index.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  MoreHorizontal,\r\n  CheckCircle,\r\n  PlayCircle,\r\n  Clock,\r\n  Lock,\r\n  ArrowRight,\r\n  MessageCircle,\r\n  ClipboardCheck,\r\n  SkipForward,\r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from \"@/components/ui/popover\";\r\nimport { Button } from \"../ui/button\";\r\nimport { Separator } from \"../ui/separator\";\r\nimport {\r\n  Tooltip,\r\n  TooltipTrigger,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n} from \"@/components/ui/tooltip\";\r\nimport { removeBrackets } from \"@/lib/utils\";\r\nimport { MappedSyllabus } from \"@/app/study/map/page\";\r\n\r\ntype MedicalTerminologyCardProps = {\r\n  lesson: MappedSyllabus;\r\n};\r\n\r\nconst statusMapping = (status: string) => {\r\n  switch (status) {\r\n    case \"completed\":\r\n      return {\r\n        label: \"Hoàn thành\",\r\n        icon: <CheckCircle className=\"w-5 h-5 text-green-500\" />,\r\n        color: \"bg-green-100\",\r\n        text: \"text-green-500\",\r\n      };\r\n    case \"in-progress\":\r\n      return {\r\n        label: \"Đang học\",\r\n        icon: <PlayCircle className=\"w-5 h-5 text-blue-500 animate-pulse\" />,\r\n        color: \"bg-blue-100\",\r\n        text: \"text-blue-500\",\r\n      };\r\n    case \"upcoming\":\r\n      return {\r\n        label: \"Sắp mở\",\r\n        icon: <Clock className=\"w-5 h-5 text-yellow-500\" />,\r\n        color: \"bg-yellow-100\",\r\n        text: \"text-yellow-500\",\r\n      };\r\n    default:\r\n      return {\r\n        label: \"Khoá\",\r\n        icon: <Lock className=\"w-5 h-5 text-gray-400\" />,\r\n        color: \"bg-gray-100\",\r\n        text: \"text-gray-500\",\r\n      };\r\n  }\r\n};\r\n\r\nexport default function MedicalTerminologyCard({\r\n  lesson,\r\n}: MedicalTerminologyCardProps) {\r\n  const [hasTakenTest, setHasTakenTest] = useState(false);\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const { label, icon, color, text } = statusMapping(lesson.status);\r\n  lesson.title = removeBrackets(lesson.title);\r\n  return (\r\n    <div className=\"flex items-center justify-center\">\r\n      <div className=\"relative w-full max-w-md bg-white rounded-3xl border p-6\">\r\n        {/* Add Button */}\r\n        <button\r\n          className={`absolute top-6 right-6 w-14 h-14 bg-[#F66868] rounded-full flex items-center justify-center hover:bg-[#F66868]/60 cursor-pointer transition-colors`}\r\n        >\r\n          {lesson.icon}\r\n        </button>\r\n\r\n        {/* Title */}\r\n        <h2 className=\"text-3xl font-bold text-gray-900 mb-3 leading-tight\">\r\n          {lesson.title.split(\" \").slice(0, 3).join(\" \")}\r\n          <br />\r\n          {lesson.title.split(\" \").slice(3, 6).join(\" \")}\r\n          <br />\r\n          {lesson.title.split(\" \").slice(6, 9).join(\" \")}\r\n          <br />\r\n          {lesson.title.split(\" \").slice(9).join(\" \")}\r\n        </h2>\r\n\r\n        {/* Description */}\r\n        <p className=\"text-gray-500 text-base mb-8 leading-relaxed\">\r\n          {lesson.description}\r\n        </p>\r\n\r\n        {/* Bottom Actions */}\r\n        <div className=\"flex items-center justify-between\">\r\n          {/* Status Badge */}\r\n          <div className=\"flex flex-row gap-x-2\">\r\n            <div\r\n              className={`flex items-center gap-2 ${color} px-4 py-2.5 rounded-full`}\r\n            >\r\n              <span className={`${text} font-medium text-sm`}>{label}</span>\r\n              <span className=\"text-xl\">{icon}</span>\r\n            </div>\r\n            <div\r\n              className={`flex items-center gap-2 ${color} px-4 py-2.5 rounded-full`}\r\n            >\r\n              <span className={`${text} font-medium text-sm`}>\r\n                {lesson.lesson_count} Bài học\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex items-center gap-3\">\r\n            <TooltipProvider delayDuration={150}>\r\n              <Popover>\r\n                <PopoverTrigger className=\"w-11 h-11 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors cursor-pointer\">\r\n                  <MoreHorizontal className=\"w-5 h-5 text-gray-700\" />\r\n                </PopoverTrigger>\r\n\r\n                <PopoverContent className=\"w-56 p-2\">\r\n                  <div className=\"flex flex-col\">\r\n                    {/* Option 1 */}\r\n                    <Tooltip>\r\n                      <TooltipTrigger asChild>\r\n                        <Link\r\n                          href=\"/chat\"\r\n                          className=\"flex items-center gap-2 px-2 py-2 hover:bg-gray-50 rounded-md transition-colors\"\r\n                        >\r\n                          <MessageCircle className=\"w-4 h-4 text-blue-500\" />\r\n                          <span>Hỏi Mini Wave</span>\r\n                        </Link>\r\n                      </TooltipTrigger>\r\n                      <TooltipContent>\r\n                        <p>Trao đổi với Mini Wave về chủ đề này.</p>\r\n                      </TooltipContent>\r\n                    </Tooltip>\r\n\r\n                    <Separator className=\"my-1\" />\r\n\r\n                    {/* Option 2 */}\r\n                    <Tooltip>\r\n                      <TooltipTrigger asChild>\r\n                        <Link\r\n                          href=\"/study/learn/test/topic\"\r\n                          className=\"flex items-center gap-2 px-2 py-2 hover:bg-gray-50 rounded-md transition-colors\"\r\n                          onClick={() => setHasTakenTest(true)}\r\n                        >\r\n                          <ClipboardCheck className=\"w-4 h-4 text-green-500\" />\r\n                          <span>Làm kiểm tra</span>\r\n                        </Link>\r\n                      </TooltipTrigger>\r\n                      <TooltipContent>\r\n                        <p>\r\n                          Thực hiện bài kiểm tra để mở khóa tùy chọn bỏ qua.\r\n                        </p>\r\n                      </TooltipContent>\r\n                    </Tooltip>\r\n\r\n                    {/* Option 3 (Skip) */}\r\n                    {lesson.status != \"completed\" && (\r\n                      <>\r\n                        <Separator className=\"my-1\" />\r\n                        <Tooltip>\r\n                          <TooltipTrigger asChild>\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              className={`flex items-center gap-2 px-2 py-2 rounded-md justify-start w-full text-left ${\r\n                                hasTakenTest\r\n                                  ? \"text-gray-700 hover:bg-gray-50\"\r\n                                  : \"opacity-50 cursor-not-allowed\"\r\n                              }`}\r\n                              onClick={() =>\r\n                                hasTakenTest && console.log(\"Bỏ qua chủ đề\")\r\n                              }\r\n                              disabled={!hasTakenTest}\r\n                            >\r\n                              <SkipForward className=\"w-4 h-4 text-orange-500\" />\r\n                              <span>Bỏ qua chủ đề này</span>\r\n                            </Button>\r\n                          </TooltipTrigger>\r\n                          <TooltipContent>\r\n                            <p>\r\n                              {hasTakenTest\r\n                                ? \"Bỏ qua chủ đề này và tiếp tục bài học tiếp theo.\"\r\n                                : \"Bạn cần làm kiểm tra trước khi có thể bỏ qua.\"}\r\n                            </p>\r\n                          </TooltipContent>\r\n                        </Tooltip>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </PopoverContent>\r\n              </Popover>\r\n            </TooltipProvider>\r\n\r\n            {lesson.status != \"locked\" && (\r\n              <>\r\n                {/* Check Button */}\r\n                <Link\r\n                  href={lesson.link || \"#\"}\r\n                  aria-label={`Đi tới bài học: ${lesson.title}`}\r\n                  className=\"w-11 h-11 flex items-center justify-center rounded-full \r\n             bg-[#F66868] text-white \r\n             hover:bg-[#F66868]/70 \r\n             transition-all duration-300 \r\n             shadow-md hover:shadow-lg\"\r\n                >\r\n                  <ArrowRight className=\"w-6 h-6\" strokeWidth={2.5} />\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1259, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,KAEoC;QAFpC,EACd,GAAG,OAC+C,GAFpC;IAGd,qBAAO,yOAAC,yNAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,KAEgC;QAFhC,EACrB,GAAG,OACkD,GAFhC;IAGrB,qBAAO,yOAAC,4NAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,KAEgC;QAFhC,EACpB,GAAG,OACiD,GAFhC;IAGpB,qBAAO,yOAAC,2NAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,KAEgC;QAFhC,EACnB,GAAG,OACgD,GAFhC;IAGnB,qBAAO,yOAAC,0NAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,KAGgC;QAHhC,EACrB,SAAS,EACT,GAAG,OACkD,GAHhC;IAIrB,qBACE,yOAAC,4NAAuB;QACtB,aAAU;QACV,WAAW,IAAA,wKAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,KAOtB;QAPsB,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ,GAPsB;IAQrB,qBACE,yOAAC;QAAa,aAAU;;0BACtB,yOAAC;;;;;0BACD,yOAAC,4NAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,wKAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,yOAAC,0NAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,yOAAC,wPAAK;;;;;0CACN,yOAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACpB,qBACE,yOAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACpB,qBACE,yOAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,KAGgC;QAHhC,EACnB,SAAS,EACT,GAAG,OACgD,GAHhC;IAInB,qBACE,yOAAC,0NAAqB;QACpB,aAAU;QACV,WAAW,IAAA,wKAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,KAGgC;QAHhC,EACzB,SAAS,EACT,GAAG,OACsD,GAHhC;IAIzB,qBACE,yOAAC,gOAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,wKAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 1475, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\r\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,KAA4D;QAA5D,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC,GAA5D;IACb,qBACE,yOAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,wKAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 1507, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,KAGoC;QAHpC,EACb,SAAS,EACT,GAAG,OAC8C,GAHpC;IAIb,qBACE,yOAAC,wNAAmB;QAClB,aAAU;QACV,WAAW,IAAA,wKAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 1541, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,KAAyD;QAAzD,EAAE,SAAS,EAAE,GAAG,OAAyC,GAAzD;IAChB,qBACE,yOAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS","debugId":null}},
    {"offset": {"line": 1572, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/components/curriculum-modal/index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport type React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { useUserStore } from \"@/store/useUserStore\";\r\nimport { Loader2, AlertCircle } from \"lucide-react\";\r\n\r\n// 1. Define the type for the data we expect from the API\r\ninterface LearningPreferenceData {\r\n  id: number;\r\n  user_id: number;\r\n  learning_goal: string | null;\r\n  available_time: string | null;\r\n  schedule: string | null;\r\n  expectations: string | null;\r\n  skill: number | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface CurriculumFormData {\r\n  target: string;\r\n  freetime: string;\r\n  schedule: string;\r\n  hope: string;\r\n  skill: number;\r\n}\r\n\r\ninterface CurriculumModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSubmit: (data: CurriculumFormData) => void;\r\n  isLoading?: boolean; // This is for the SUBMIT loading\r\n}\r\n\r\nconst PROFICIENCY_LEVELS = [\r\n  {\r\n    level: 1,\r\n    label: \"Hoàn toàn mới bắt đầu\",\r\n    description: \"Người mới hoàn toàn\",\r\n  },\r\n  { level: 2, label: \"Sơ cấp\", description: \"Biết một số cơ bản\" },\r\n  { level: 3, label: \"Trung cấp\", description: \"Có kiến thức nhất định\" },\r\n  { level: 4, label: \"Nâng cao\", description: \"Khá thành thạo\" },\r\n  { level: 5, label: \"Chuyên gia\", description: \"Rất thành thạo\" },\r\n];\r\n\r\nexport default function CurriculumModal({\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  isLoading = false,\r\n}: CurriculumModalProps) {\r\n  const [formData, setFormData] = useState<CurriculumFormData>({\r\n    target: \"\",\r\n    freetime: \"\",\r\n    schedule: \"\",\r\n    hope: \"\",\r\n    skill: 1,\r\n  });\r\n  const { user } = useUserStore();\r\n\r\n  // 2. Add local state for fetching data\r\n  const [isFetching, setIsFetching] = useState(false);\r\n  const [fetchError, setFetchError] = useState<string | null>(null);\r\n\r\n  // 3. Fix the useEffect hook\r\n  useEffect(() => {\r\n    // Don't fetch if the modal isn't open or user isn't loaded\r\n    if (!isOpen || !user) {\r\n      return;\r\n    }\r\n\r\n    const fetchUserPreference = async () => {\r\n      setIsFetching(true);\r\n      setFetchError(null);\r\n      try {\r\n        const response = await fetch(\r\n          // This GET endpoint needs to return the user's *single* preference object\r\n          `${process.env.NEXT_PUBLIC_SERVER_URL}/api/user/preferences?user_id=${user.id}`\r\n        );\r\n\r\n        // If user has no preferences yet, API might return 404, which is OK.\r\n        if (response.status === 404) {\r\n          // User is new, just use the default empty form\r\n          setFormData({\r\n            target: \"\",\r\n            freetime: \"\",\r\n            schedule: \"\",\r\n            hope: \"\",\r\n            skill: 1,\r\n          });\r\n          return;\r\n        }\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch user preferences\");\r\n        }\r\n\r\n        const data: LearningPreferenceData = await response.json();\r\n\r\n        // Populate the form with data from the server\r\n        setFormData({\r\n          target: data.learning_goal || \"\",\r\n          freetime: data.available_time || \"\",\r\n          schedule: data.schedule || \"\",\r\n          hope: data.expectations || \"\",\r\n          skill: data.skill || 1,\r\n        });\r\n      } catch (err: any) {\r\n        setFetchError(err.message);\r\n      } finally {\r\n        setIsFetching(false);\r\n      }\r\n    };\r\n\r\n    fetchUserPreference();\r\n  }, [user, isOpen]); // Re-run when the user is loaded OR the modal is opened\r\n\r\n  const handleInputChange = (\r\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleProficiencyChange = (level: number) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      skill: level,\r\n    }));\r\n  };\r\n\r\n  // This function is called by the \"Tạo giáo trình\" button\r\n  const handleSubmit = () => {\r\n    // The onSubmit prop will be a function passed from the parent component\r\n    // that knows how to call the POST /api/user/preferences endpoint\r\n    onSubmit(formData);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-[600px] max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader className=\"space-y-3 pb-2\">\r\n          <DialogTitle className=\"text-2xl font-bold text-[#F66868] flex items-center gap-2\">\r\n            <span className=\"text-3xl\">🤖</span>\r\n            <span>Tạo giáo trình cá nhân hoá</span>\r\n          </DialogTitle>\r\n          <DialogDescription className=\"text-base text-gray-600 leading-relaxed\">\r\n            Điền thông tin dưới đây để AI tạo ra một giáo trình học tập phù hợp\r\n            với bạn\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        {/* 4. Handle Fetching and Error states */}\r\n        {isFetching ? (\r\n          <div className=\"flex flex-col items-center justify-center h-64 gap-2\">\r\n            <Loader2 className=\"animate-spin text-[#F66868]\" size={32} />\r\n            <p className=\"text-gray-600\">Đang tải dữ liệu của bạn...</p>\r\n          </div>\r\n        ) : fetchError ? (\r\n          <div className=\"flex flex-col items-center justify-center h-64 gap-2 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n            <AlertCircle className=\"text-red-500\" size={32} />\r\n            <p className=\"text-red-700 font-semibold\">Lỗi khi tải dữ liệu</p>\r\n            <p className=\"text-red-600 text-sm\">{fetchError}</p>\r\n          </div>\r\n        ) : (\r\n          // 5. Form Content (only shows if not fetching and no error)\r\n          <div className=\"space-y-6 pt-2\">\r\n            {/* Proficiency Level */}\r\n            <fieldset\r\n              className=\"space-y-4 p-5 bg-gradient-to-br from-red-50 to-orange-50 rounded-xl border border-red-100\"\r\n              disabled={isFetching || isLoading}\r\n            >\r\n              <Label className=\"text-base font-semibold text-gray-800 flex items-center gap-2\">\r\n                <span className=\"text-xl\">🎓</span>\r\n                Trình độ Ngôn ngữ Kí hiệu hiện tại\r\n              </Label>\r\n              <div className=\"grid grid-cols-5 gap-2\">\r\n                {PROFICIENCY_LEVELS.map(({ level, label, description }) => (\r\n                  <button\r\n                    key={level}\r\n                    type=\"button\"\r\n                    onClick={() => handleProficiencyChange(level)}\r\n                    className={`p-3 rounded-xl border-2 transition-all duration-200 text-center transform hover:scale-105 disabled:opacity-50 ${\r\n                      formData.skill === level\r\n                        ? \"border-[#F66868] bg-gradient-to-br from-[#F66868] to-[#e25757] text-white shadow-lg shadow-red-200\"\r\n                        : \"border-gray-200 bg-white text-gray-700 hover:border-[#F66868] hover:shadow-md\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"font-bold text-lg\">{level}</div>\r\n                    <div className=\"text-xs mt-1 leading-tight font-medium\">\r\n                      {label.split(\" \")[0]}\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              <div className=\"flex items-start gap-2 p-3 bg-white/80 rounded-lg border border-red-100\">\r\n                <span className=\"text-base\">💡</span>\r\n                <p className=\"text-sm text-gray-700 leading-relaxed\">\r\n                  <span className=\"font-semibold text-[#F66868]\">\r\n                    Mức độ {formData.skill}:\r\n                  </span>{\" \"}\r\n                  {PROFICIENCY_LEVELS[formData.skill - 1].description}\r\n                </p>\r\n              </div>\r\n            </fieldset>\r\n\r\n            {/* Target Field */}\r\n            <fieldset className=\"space-y-3\" disabled={isFetching || isLoading}>\r\n              <Label\r\n                htmlFor=\"target\"\r\n                className=\"text-base font-semibold text-gray-800 flex items-center gap-2\"\r\n              >\r\n                <span className=\"text-xl\">🎯</span>\r\n                Mục tiêu học tập và các chủ đề muốn học\r\n              </Label>\r\n              <Input\r\n                id=\"target\"\r\n                name=\"target\"\r\n                placeholder=\"Ví dụ: Thành thạo Ngôn ngữ Kí hiệu cơ bản về chủ đề động vật trong 3 tháng\"\r\n                value={formData.target}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"text-base h-12 border-2 focus:border-[#F66868] focus:ring-2 focus:ring-[#F66868]/20 transition-all disabled:opacity-50\"\r\n              />\r\n            </fieldset>\r\n\r\n            {/* Freetime Field */}\r\n            <fieldset className=\"space-y-3\" disabled={isFetching || isLoading}>\r\n              <Label\r\n                htmlFor=\"freetime\"\r\n                className=\"text-base font-semibold text-gray-800 flex items-center gap-2\"\r\n              >\r\n                <span className=\"text-xl\">⏰</span>\r\n                Thời gian rảnh có sẵn\r\n              </Label>\r\n              <Input\r\n                id=\"freetime\"\r\n                name=\"freetime\"\r\n                placeholder=\"Ví dụ: 1-2 giờ mỗi ngày, 5 ngày một tuần\"\r\n                value={formData.freetime}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"text-base h-12 border-2 focus:border-[#F66868] focus:ring-2 focus:ring-[#F66868]/20 transition-all disabled:opacity-50\"\r\n              />\r\n            </fieldset>\r\n\r\n            {/* Schedule Field */}\r\n            <fieldset className=\"space-y-3\" disabled={isFetching || isLoading}>\r\n              <Label\r\n                htmlFor=\"schedule\"\r\n                className=\"text-base font-semibold text-gray-800 flex items-center gap-2\"\r\n              >\r\n                <span className=\"text-xl\">📅</span>\r\n                Lịch trình học tập\r\n              </Label>\r\n              <Input\r\n                id=\"schedule\"\r\n                name=\"schedule\"\r\n                placeholder=\"Ví dụ: Sáng 8-9 giờ và chiều 5-6 giờ\"\r\n                value={formData.schedule}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"text-base h-12 border-2 focus:border-[#F66868] focus:ring-2 focus:ring-[#F66868]/20 transition-all disabled:opacity-50\"\r\n              />\r\n            </fieldset>\r\n\r\n            {/* Hope/Expectations Field */}\r\n            <fieldset className=\"space-y-3\" disabled={isFetching || isLoading}>\r\n              <Label\r\n                htmlFor=\"hope\"\r\n                className=\"text-base font-semibold text-gray-800 flex items-center gap-2\"\r\n              >\r\n                <span className=\"text-xl\">💭</span>\r\n                Kỳ vọng & Mong muốn\r\n              </Label>\r\n              <Textarea\r\n                id=\"hope\"\r\n                name=\"hope\"\r\n                placeholder=\"Ví dụ: Muốn giao tiếp cơ bản, học từ vựng y tế, tăng tốc độ học nhanh...\"\r\n                value={formData.hope}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"text-base resize-none border-2 focus:border-[#F66868] focus:ring-2 focus:ring-[#F66868]/20 transition-all min-h-[120px] disabled:opacity-50\"\r\n                rows={4}\r\n              />\r\n            </fieldset>\r\n\r\n            {/* Submit Buttons */}\r\n            <div className=\"flex gap-3 pt-4 sticky bottom-0 bg-white pb-2\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={onClose}\r\n                className=\"flex-1 text-base h-12 border-2 hover:bg-gray-50 font-semibold\"\r\n                disabled={isLoading || isFetching}\r\n              >\r\n                Hủy\r\n              </Button>\r\n              <Button\r\n                // 6. Fix the onClick handler\r\n                onClick={handleSubmit}\r\n                className=\"flex-1 bg-gradient-to-r from-[#F66868] to-[#e25757] hover:from-[#e25757] hover:to-[#d04646] text-white text-base h-12 font-semibold shadow-lg shadow-red-200 hover:shadow-xl transition-all duration-200\"\r\n                disabled={isLoading || isFetching}\r\n              >\r\n                {isLoading ? (\r\n                  <span className=\"flex items-center gap-2\">\r\n                    <Loader2 className=\"animate-spin\" /> {/* Changed icon */}\r\n                    Đang tạo...\r\n                  </span>\r\n                ) : (\r\n                  \"Tạo giáo trình\"\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2172, "column": 0}, "map": {"version":3,"sources":["file:///C:/KhanhAn/Project_Sudo/wave-wave/frontend/src/app/study/map/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport type React from \"react\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  Play,\r\n  CheckCircle2,\r\n  Lock,\r\n  Users,\r\n  BookOpen,\r\n  Trophy,\r\n  Star,\r\n  SquareDashedBottom as SquareDashed,\r\n} from \"lucide-react\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Progress } from \"@/components/ui/progress\";\r\nimport Image from \"next/image\";\r\nimport { useUserStore } from \"@/store/useUserStore\";\r\nimport LearningSummary from \"@/components/LearningSummary\";\r\nimport MedicalTerminologyCard from \"@/components/MedicalTerminologyCard\";\r\nimport CurriculumModal from \"@/components/curriculum-modal\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ntype LessonStatus = \"completed\" | \"in-progress\" | \"upcoming\" | \"locked\";\r\n\r\nexport interface MappedSyllabus {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  status: LessonStatus;\r\n  progress: number;\r\n  lesson_count: number;\r\n  color: string;\r\n  icon: React.ReactNode;\r\n  link: string;\r\n}\r\n\r\nexport interface SyllabusInfo {\r\n  id: number;\r\n  title: string;\r\n  description: string;\r\n  progress: number;\r\n  status: string;\r\n  lesson_count: number;\r\n}\r\n\r\nconst ICONS = [\r\n  <Star key=\"star\" className=\"w-5 h-5 text-white\" />,\r\n  <CheckCircle2 key=\"check-circle\" className=\"w-5 h-5 text-white\" />,\r\n  <Play key=\"play\" className=\"w-5 h-5 text-white\" />,\r\n  <Users key=\"users\" className=\"w-5 h-5 text-white\" />,\r\n  <BookOpen key=\"book-open\" className=\"w-5 h-5 text-white\" />,\r\n  <Lock key=\"lock\" className=\"w-5 h-5 text-white\" />,\r\n];\r\n\r\nconst COLORS = [\r\n  \"bg-emerald-100 border-emerald-300\",\r\n  \"bg-emerald-100 border-emerald-300\",\r\n  \"bg-purple-100 border-purple-300\",\r\n  \"bg-blue-50 border-blue-200\",\r\n  \"bg-amber-50 border-amber-200\",\r\n  \"bg-gray-100 border-gray-300\",\r\n];\r\n\r\nexport default function MapPage() {\r\n  const { user } = useUserStore();\r\n  const [syllabuses, setSyllabuses] = useState<MappedSyllabus[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false); // Added modal state\r\n  const [isSubmitting, setIsSubmitting] = useState(false); // Added submission state\r\n  const router = useRouter(); // ⭐️ Hook for navigation\r\n\r\n  useEffect(() => {\r\n    const fetchSyllabuses = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await fetch(\r\n          `${process.env.NEXT_PUBLIC_SERVER_URL}/api/syllabuses/?user_id=${user?.id}`\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch data from server\");\r\n        }\r\n\r\n        const data: { syllabuses: SyllabusInfo[] } = await response.json();\r\n\r\n        const sortedSyllabuses = data.syllabuses.sort((a, b) => a.id - b.id);\r\n\r\n        const mapped_syllabus: MappedSyllabus[] = sortedSyllabuses.map(\r\n          (syllabus, index) => {\r\n            return {\r\n              id: syllabus.id.toString(),\r\n              title: syllabus.title,\r\n              description: syllabus.description,\r\n              progress: syllabus.progress,\r\n              status: syllabus.status as LessonStatus,\r\n              color: COLORS[index % COLORS.length],\r\n              lesson_count: syllabus.lesson_count,\r\n              icon: ICONS[index % ICONS.length],\r\n              link: `/study/learn/syllabus/${syllabus.id}`,\r\n            };\r\n          }\r\n        );\r\n\r\n        setSyllabuses(mapped_syllabus);\r\n        setError(null);\r\n      } catch (err: any) {\r\n        setError(err.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    const fetchUserPreference = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await fetch(\r\n          `${process.env.NEXT_PUBLIC_SERVER_URL}/api/user/preferences/?user_id=${user?.id}`\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch data from server\");\r\n        }\r\n\r\n        const data: { syllabuses: SyllabusInfo[] } = await response.json();\r\n\r\n        const sortedSyllabuses = data.syllabuses.sort((a, b) => a.id - b.id);\r\n\r\n        const mapped_syllabus: MappedSyllabus[] = sortedSyllabuses.map(\r\n          (syllabus, index) => {\r\n            return {\r\n              id: syllabus.id.toString(),\r\n              title: syllabus.title,\r\n              description: syllabus.description,\r\n              progress: syllabus.progress,\r\n              status: syllabus.status as LessonStatus,\r\n              color: COLORS[index % COLORS.length],\r\n              lesson_count: syllabus.lesson_count,\r\n              icon: ICONS[index % ICONS.length],\r\n              link: `/study/learn/syllabus/${syllabus.id}`,\r\n            };\r\n          }\r\n        );\r\n\r\n        setSyllabuses(mapped_syllabus);\r\n        setError(null);\r\n      } catch (err: any) {\r\n        setError(err.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    if (user?.id) {\r\n      fetchSyllabuses();\r\n    }\r\n  }, [user?.id]);\r\n\r\n  const handleCurriculumSubmit = async (formData: {\r\n    target: string;\r\n    freetime: string;\r\n    schedule: string;\r\n    hope: string;\r\n    skill: number;\r\n  }) => {\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      // 1️⃣ Step 1: Save user preferences\r\n      const saveRes = await fetch(\r\n        `${process.env.NEXT_PUBLIC_SERVER_URL}/api/user/preferences`,\r\n        {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            user_id: user?.id,\r\n            learning_goal: formData.target,\r\n            available_time: formData.freetime,\r\n            schedule: formData.schedule,\r\n            expectations: formData.hope,\r\n            skill: formData.skill,\r\n          }),\r\n        }\r\n      );\r\n\r\n      if (!saveRes.ok)\r\n        throw new Error(\"Failed to save user learning preference\");\r\n\r\n      // 2️⃣ Step 2: Build AI Query (Vietnamese version)\r\n      const aiQuery = `Dựa trên các yêu cầu sau, hãy tạo một giáo trình học cá nhân hoá phù hợp:\r\n- Mục tiêu học tập: ${formData.target}\r\n- Thời gian rảnh có thể học: ${formData.freetime}\r\n- Lịch học mong muốn: ${formData.schedule}\r\n- Kỳ vọng khi hoàn thành khoá học: ${formData.hope}\r\n- Trình độ kỹ năng hiện tại: ${formData.skill}\r\n\r\nVui lòng đề xuất một lộ trình học tập có cấu trúc rõ ràng, bao gồm các bài học cụ thể và các mốc tiến độ quan trọng.`;\r\n      console.log(aiQuery);\r\n      // 3️⃣ Step 3: Send to AI backend\r\n      const aiRes = await fetch(\r\n        `${process.env.NEXT_PUBLIC_SERVER_URL}/api/generate-curriculum`,\r\n        {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            // --- THIS IS THE FIX ---\r\n            user_id: String(user?.id), // Convert the number to a string\r\n            // -----------------------\r\n            query: aiQuery,\r\n          }),\r\n        }\r\n      );\r\n\r\n      if (!aiRes.ok) {\r\n        throw new Error(\"Failed to generate AI curriculum\");\r\n      }\r\n\r\n      const aiResult = await aiRes.json();\r\n      console.log(\"🎯 AI Curriculum:\", aiResult);\r\n\r\n      // 4️⃣ Step 4: Extract SyllabusID from response\r\n      const responseText = aiResult.response || \"\";\r\n      const syllabusMatch = responseText.match(/\\[SyllabusID:(\\d+)\\]/i);\r\n\r\n      if (syllabusMatch && syllabusMatch[1]) {\r\n        const syllabusId = syllabusMatch[1];\r\n        console.log(`✅ Extracted SyllabusID: ${syllabusId}`);\r\n\r\n        setIsModalOpen(false);\r\n        alert(\"🎓 Giáo trình cá nhân hoá đã được tạo thành công!\");\r\n        router.push(`/study/learn/syllabus/${syllabusId}`);\r\n      } else {\r\n        console.warn(\r\n          \"⚠️ Không tìm thấy SyllabusID trong phản hồi AI:\",\r\n          responseText\r\n        );\r\n        alert(\"❌ Có lỗi xảy ra khi tạo giáo trình. Vui lòng thử lại.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error submitting curriculum form:\", err);\r\n      alert(\"❌ Có lỗi xảy ra. Vui lòng thử lại.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const completedCount = syllabuses.filter(\r\n    (l) => l.status === \"completed\"\r\n  ).length;\r\n  const totalCount = syllabuses.length;\r\n  const progressPercentage = (completedCount / totalCount) * 100;\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-y-16 xl:flex-row w-[90%] justify-between mx-auto mt-20\">\r\n      {/* LEFT SECTION (60%) - Learning Path */}\r\n      <div className=\"xl:w-[65%] max-w-5xl mx-auto\">\r\n        <LearningSummary />\r\n        {isLoading && (\r\n          <div className=\"text-center text-lg mt-10\">\r\n            Loading learning path...\r\n          </div>\r\n        )}{\" \"}\r\n        {error && (\r\n          <div className=\"text-center text-lg mt-10 text-red-500\">\r\n            Error: {error}{\" \"}\r\n          </div>\r\n        )}\r\n        <div className=\"relative mx-auto\">\r\n          {/* Timeline Line */}\r\n          <div className=\"absolute left-1/2 top-6 bottom-0 w-1 -ml-0.5 bg-gradient-to-b from-[#F66868]/20 to-[#F66868]/80\" />\r\n\r\n          <div className=\"space-y-8\">\r\n            {syllabuses.map((syllabus, index) => {\r\n              const isLeft = index % 2 === 0;\r\n\r\n              return (\r\n                <div key={syllabus.id} className=\"relative\">\r\n                  {/* Node on line */}\r\n                  <div\r\n                    className={`absolute left-1/2 top-6 -ml-4 w-8 h-8 rounded-full border-4 border-white flex items-center justify-center z-10 bg-[#F66868]`}\r\n                  >\r\n                    {syllabus.status === \"completed\" && (\r\n                      <CheckCircle2\r\n                        key=\"completed\"\r\n                        className=\"w-4 h-4 text-white\"\r\n                      />\r\n                    )}\r\n                    {syllabus.status === \"in-progress\" && (\r\n                      <Play key=\"in-progress\" className=\"w-4 h-4 text-white\" />\r\n                    )}\r\n                    {syllabus.status === \"upcoming\" && (\r\n                      <SquareDashed\r\n                        key=\"upcoming\"\r\n                        className=\"w-4 h-4 text-white\"\r\n                      />\r\n                    )}\r\n                    {syllabus.status === \"locked\" && (\r\n                      <Lock key=\"locked\" className=\"w-3 h-3 text-white\" />\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Alternating Cards */}\r\n                  <div className=\"grid grid-cols-2 gap-8 items-center justify-center\">\r\n                    {isLeft ? (\r\n                      <>\r\n                        {/* Left Card */}\r\n                        <div className=\"pr-8\">\r\n                          <MedicalTerminologyCard lesson={syllabus} />\r\n                        </div>\r\n\r\n                        {/* Right Image */}\r\n                        <div className=\"relative flex w-fit mx-auto justify-center\">\r\n                          <div className=\"absolute inset-0 bg-green-500 blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-300\" />\r\n                          <Image\r\n                            src=\"/hulk.svg\"\r\n                            alt=\"lesson_decoration\"\r\n                            width={140}\r\n                            height={140}\r\n                            className=\"relative z-10 mx-auto animate-float\"\r\n                          />\r\n                        </div>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        {/* Left Image */}\r\n                        <div className=\"relative flex w-fit mx-auto justify-center\">\r\n                          <div className=\"absolute inset-0 bg-[#F66868] blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-300\" />\r\n                          <Image\r\n                            src=\"/bat.svg\"\r\n                            alt=\"lesson_decoration\"\r\n                            width={140}\r\n                            height={140}\r\n                            className=\"relative z-10 mx-auto animate-float\"\r\n                          />\r\n                        </div>\r\n\r\n                        {/* Right Card */}\r\n                        <div className=\"pl-8\">\r\n                          <MedicalTerminologyCard lesson={syllabus} />\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* RIGHT SECTION (30%) - Giới thiệu hệ thống & Tiến độ */}\r\n      <div className=\"xl:w-[33%] bg-[#FFF5F5] border border-[#F66868]/20 p-4 h-fit rounded-2xl shadow-sm relative\">\r\n        <div className=\"absolute -top-10 -right-4\">\r\n          <Image\r\n            src=\"/capybara_book.svg\"\r\n            alt=\"capybara_image\"\r\n            height={120}\r\n            width={120}\r\n          />\r\n        </div>\r\n        <div className=\"space-y-4\">\r\n          {/* Tổng quan hệ thống học */}\r\n          <Card className=\"p-6\">\r\n            <h2 className=\"text-2xl font-semibold text-[#F66868]\">\r\n              Giới thiệu hệ thống học tập\r\n            </h2>\r\n            <p className=\"text-lg text-gray-700\">\r\n              Wave Wave là nền tảng học Ngôn ngữ Kí hiệu được thiết kế để giúp\r\n              bạn học một cách dễ dàng, sinh động và có định hướng rõ ràng. Bạn\r\n              có thể:\r\n            </p>\r\n            <ul className=\"list-disc list-inside text-lg text-gray-700\">\r\n              <li>\r\n                Theo lộ trình học tập được <strong>xây dựng sẵn</strong> với các\r\n                cấp độ từ cơ bản đến nâng cao.\r\n              </li>\r\n              <li>\r\n                Hoặc tạo <strong>giáo trình cá nhân hoá</strong> phù hợp với mục\r\n                tiêu và tốc độ riêng của bạn.\r\n              </li>\r\n            </ul>\r\n\r\n            <div className=\"flex justify-center mt-4\">\r\n              <Button\r\n                size=\"lg\"\r\n                className=\"bg-[#F66868] text-xl hover:bg-[#e25757] text-white px-5 py-2 rounded-xl shadow-md transition-all\"\r\n                onClick={() => setIsModalOpen(true)} // Open modal\r\n              >\r\n                🤖 Tạo giáo trình cá nhân hoá\r\n              </Button>\r\n            </div>\r\n          </Card>\r\n\r\n          {/* Tiến độ học tập */}\r\n          <Card className=\"p-6 rounded-2xl bg-white border border-[#F66868]/20\">\r\n            <h2 className=\"text-2xl font-semibold text-[#F66868] mb-5 flex items-center gap-2\">\r\n              <Trophy className=\"w-5 h-5 text-[#F66868]\" />\r\n              Tiến độ học tập\r\n            </h2>\r\n\r\n            {user ? (\r\n              <>\r\n                {/* Thanh tiến độ */}\r\n                <div className=\"relative mb-3\">\r\n                  <Progress\r\n                    value={progressPercentage}\r\n                    className=\"h-4 bg-[#fde3e3] rounded-full overflow-hidden\"\r\n                  />\r\n                  <div className=\"absolute inset-0 flex justify-center items-center text-xs font-medium text-gray-800/60\">\r\n                    {Math.round(progressPercentage)}%\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Thông tin chi tiết */}\r\n                <div className=\"flex flex-row items-center justify-between\">\r\n                  <p className=\"text-sm text-gray-700 text-center\">\r\n                    🎯 <span className=\"font-semibold\">{completedCount}</span> /{\" \"}\r\n                    <span className=\"font-semibold\">{totalCount}</span>\r\n                  </p>\r\n\r\n                  <div className=\"flex justify-center\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      className=\"border-[#F66868]/40 text-[#F66868] hover:bg-[#F66868] hover:text-white transition-all duration-300 bg-transparent\"\r\n                    >\r\n                      Xem lộ trình chi tiết\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <div className=\"flex flex-col items-center justify-center py-6 text-center text-gray-600\">\r\n                <Lock className=\"w-8 h-8 text-[#F66868]/70 mb-3\" />\r\n                <p className=\"text-lg mb-4\">\r\n                  Vui lòng đăng nhập để xem tiến độ học tập của bạn.\r\n                </p>\r\n                <Button className=\"bg-[#F66868] text-lg hover:bg-[#e25757] text-white px-5\">\r\n                  Đăng nhập ngay\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </Card>\r\n        </div>\r\n      </div>\r\n\r\n      <CurriculumModal\r\n        isOpen={isModalOpen}\r\n        onClose={() => setIsModalOpen(false)}\r\n        onSubmit={handleCurriculumSubmit}\r\n        isLoading={isSubmitting}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}